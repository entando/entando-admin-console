(this["webpackJsonpentando-preview-components"]=this["webpackJsonpentando-preview-components"]||[]).push([[0],{253:function(e,t){},276:function(e,t){},282:function(e,t){},655:function(e,t,n){},657:function(e,t,n){},658:function(e,t,n){"use strict";n.r(t);var o=n(80),r=n(33),a=n(66),i=n(104),s=n(105),c=n(29),l=n(106),u=n(110),m=n(111),b=n(1),d=n(15),h=n.n(d),p=n(54),j=n(21),v={locale:"en",messages:{"preview.controlbar.previewMode":"Change Preview Mode","preview.controlbar.option.desktop":"Desktop","preview.controlbar.option.tablet":"Tablet","preview.controlbar.option.smartphone":"Smartphone","preview.controlbar.option.custom":"Custom","preview.controlbar.language":"Language","preview.controlbar.dashboard":"Back to Dashboard","preview.controlbar.tabpreview":"Preview","preview.controlbar.tabpublished":"Published","preview.controlbar.share":"Share","preview.controlbar.myprofile":"My Profile","preview.controlbar.logout":"Logout","preview.commentbar.caption":"Comments","preview.commentbar.commenttype.all":"All","preview.commentbar.commenttype.yours":"Only Yours","preview.commentbar.commenttype.resolved":"Resolved"}},g={locale:"it",messages:{"preview.controlbar.previewMode":"Cambia modalit&agrave;\xa0 anteprima","preview.controlbar.option.desktop":"Desktop","preview.controlbar.option.tablet":"Tablet","preview.controlbar.option.smartphone":"Smartphone","preview.controlbar.option.custom":"Personalizzata","preview.controlbar.language":"Lingua","preview.controlbar.dashboard":"Dashboard","preview.controlbar.tabpreview":"Anteprima","preview.controlbar.tabpublished":"Pubblicata","preview.controlbar.share":"Condividere","preview.controlbar.myprofile":"Mio Profilo","preview.controlbar.logout":"Esci","preview.commentbar.caption":"Commenti","preview.commentbar.commenttype.all":"Tutti","preview.commentbar.commenttype.yours":"Solo la Vostra","preview.commentbar.commenttype.resolved":"Risolvere"}},O=n(255),C=n.n(O);Object(j.c)(C.a);var w=function(e,t){return function(n){var o=new CustomEvent(t,{detail:n});e.dispatchEvent(o)}},f=n(256),x=n(16),k=n(168),_=n(103),L=n(165),y=n(162),N=(n(655),n(8)),B={width:"100%",height:"100%"},E=function(e){return/%$/.test(e)||/px$/.test(e)?e:"".concat(e,"px")},A=function(e){var t=e.appBuilderDomain,n=e.userName,o=e.resolution,i=e.onClickLogout,s=e.commentsOpened,c=e.onCommentsToggle,l=e.screenSizes,u=e.onResolutionChange,m=e.onShareClicked,d=e.languages,h=e.currentLang,v=e.onChangeLang,g=e.hasPermissionReview,O=Object(b.useState)(s),C=Object(a.a)(O,2),w=C[0],A=C[1];Object(b.useEffect)((function(){A(s)}),[s]);var P=Object(p.pick)(Object(r.a)(Object(r.a)({},B),o),Object.keys(B)),T=P.width,S=P.height,M=Object(b.useState)(E(T)),z=Object(a.a)(M,2),R=z[0],H=z[1],D=Object(b.useState)(E(S)),I=Object(a.a)(D,2),G=I[0],U=I[1],V=Object(N.jsxs)("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(N.jsx)("path",{d:"M45 0H0V45H45V0Z",fill:"#101820"}),Object(N.jsx)("path",{d:"M17.3055 34.6051H10.3819V27.6943L6.92334 29.3143V38.0636H10.3819H17.2991L17.3055 34.6051Z",fill:"#00A0DF"}),Object(N.jsx)("path",{d:"M27.6943 10.395H34.6179V17.3057L38.0765 15.6857V6.9364H34.6179H27.7008L27.6943 10.395Z",fill:"#00A0DF"}),Object(N.jsx)("path",{d:"M23.9916 24.4865C28.0801 24.4865 29.5844 22.6029 29.5844 20.3786V18.45C29.5844 16.2322 27.9194 13.8407 24.1459 13.8407H21.1566C19.6908 13.7938 18.266 14.3285 17.1929 15.3281C16.1199 16.3276 15.4857 17.7111 15.4287 19.1765C15.4287 19.755 15.4287 24.0107 15.4287 24.4865C15.4287 27.7715 18.4951 31.1529 22.8987 31.1529C25.276 31.1823 27.575 30.304 29.3273 28.6972L27.3151 25.8943C25.4959 27.135 24.9944 27.6815 23.0209 27.6815C21.0473 27.6815 18.8873 26.5822 18.8873 24.4672L23.9916 24.4865ZM23.9916 17.3122C25.7016 17.3122 26.1001 17.82 26.1001 18.9257V19.6779C26.1001 21.1436 25.4573 21.0215 23.9466 21.0215H18.8873V19.1765C18.8855 18.9184 18.9375 18.6628 19.04 18.4259C19.1424 18.1891 19.2931 17.9762 19.4824 17.8008C19.6717 17.6254 19.8955 17.4914 20.1395 17.4072C20.3834 17.3231 20.6422 17.2907 20.8994 17.3122H23.9916Z",fill:"white"})]}),K=Object(N.jsxs)("span",{children:[Object(N.jsx)(x.Icon,{name:"user"})," ",n]}),F=function(e){var t=e.width,n=e.height;return function(){H(E(t)),U(E(n)),u({width:E(t),height:E(n)})}};return Object(N.jsx)("div",{className:"PreviewControlBar",children:Object(N.jsx)("nav",{children:Object(N.jsxs)("ul",{children:[Object(N.jsxs)("li",{className:"leftArea",children:[V,Object(N.jsxs)("a",{href:"".concat(t,"dashboard"),target:"_blank",rel:"noopener noreferrer",className:"PreviewControlBar__dashboard",children:[Object(N.jsx)(x.Icon,{size:"lg",name:"home"}),Object(N.jsx)(j.a,{id:"preview.controlbar.dashboard"})]}),g&&Object(N.jsx)(x.Button,{className:Object(f.a)("PreviewControlBar__commentsBtn",w&&"opened"),onClick:function(){var e=!w;A(e),c(e)},children:Object(N.jsx)(x.Icon,{size:"lg",name:"comments"})})]}),Object(N.jsxs)("li",{className:"middleArea",children:[Object(N.jsx)(x.Button,{className:"PreviewControlBar__deviceBtn",onClick:F(l.desktop),children:Object(N.jsx)(x.Icon,{size:"lg",name:"desktop"})}),Object(N.jsx)(x.Button,{className:"PreviewControlBar__deviceBtn",onClick:F(l.mobile),children:Object(N.jsx)(x.Icon,{size:"lg",name:"mobile"})}),Object(N.jsx)(x.Button,{className:"PreviewControlBar__deviceBtn",onClick:F(l.tablet),children:Object(N.jsx)(x.Icon,{size:"lg",name:"tablet"})}),Object(N.jsx)("input",{className:"custom-width",onChange:function(e){return H(e.target.value)},value:R,onKeyUp:function(e){if(13===e.keyCode){var t=E(e.target.value);H(t),u({width:t,height:G})}}}),"x",Object(N.jsx)("input",{className:"custom-height",onChange:function(e){return U(e.target.value)},value:G,onKeyUp:function(e){if(13===e.keyCode){var t=E(e.target.value);U(t),u({width:R,height:t})}}})]}),Object(N.jsxs)("li",{className:"rightArea",children:[Object(N.jsxs)("div",{className:"LanguageSelect",children:[Object(N.jsx)("select",{className:"LanguageSelect__dropdown",defaultValue:h,onChange:function(e){return v(e.target.value)},children:d.map((function(e){return Object(N.jsx)("option",{value:e.code,className:"LanguageSelect__option",children:e.code.toUpperCase()})}))}),Object(N.jsx)("span",{className:"LanguageSelect__icon caret"})]}),Object(N.jsxs)(k.a,{type:"radio",name:"pageType",className:"PreviewControlBar__pageType",children:[Object(N.jsx)(_.a,{value:"preview",children:Object(N.jsx)(j.a,{id:"preview.controlbar.tabpreview"})}),Object(N.jsx)(_.a,{disabled:!0,value:"published",children:Object(N.jsx)(j.a,{id:"preview.controlbar.tabpublished"})})]})]}),Object(N.jsx)("li",{className:"rightArea",children:Object(N.jsxs)(x.Button,{className:"PreviewControlBar__share",onClick:m,children:[Object(N.jsx)(x.Icon,{name:"user-plus",size:"lg"}),Object(N.jsx)(j.a,{id:"preview.controlbar.share"})]})}),Object(N.jsxs)(L.a,{id:"previewControlBarUserMenu",className:"PreviewControlBar__userDropdown",title:K,pullRight:!0,children:[Object(N.jsxs)(y.a,{href:"".concat(t,"myProfile"),children:[Object(N.jsx)(x.Icon,{name:"user"})," ",Object(N.jsx)(j.a,{id:"preview.controlbar.myprofile"})]}),Object(N.jsxs)(y.a,{onClick:i,children:[Object(N.jsx)(x.Icon,{name:"sign-out"})," ",Object(N.jsx)(j.a,{id:"preview.controlbar.logout"})]})]})]})})})};A.defaultProps={appBuilderDomain:"//",userName:"user",onClickLogout:function(){},resolution:{},commentsOpened:!1,onCommentsToggle:function(){},onResolutionChange:function(){},onShareClicked:function(){},onChangeLang:function(){},languages:[],currentLang:"",hasPermissionReview:!1};var P=A,T={DESKTOP:"100%x100%",MOBILE:"360x640",TABLET:"768x1024"},S={appBuilderDomain:"app-builder-domain",resolutionWidth:"resolution-width",resolutionHeight:"resolution-height",commentsOpened:"comments-opened",languages:"languages",currentLang:"current-lang",sizeDesktop:"size-desktop",sizeTablet:"size-tablet",sizeMobile:"size-mobile",userLogged:"user-logged",locale:"locale",hasPermissionReview:"has-permission-review"},M={LOGOUT_CLICKED:"preview-control-bar/on-logout-clicked",COMMENT_TOGGLE:"preview-control-bar/on-comment-toggled",RESOLUTION_CHANGE:"preview-control-bar/on-resolution-change",SHARE_CLICKED:"preview-control-bar/on-share-clicked",CHANGE_LANGUAGE:"preview-control-bar/on-change-language"};window.PreviewControlBarEvent=M;var z=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).handleCommentsToggle=o.handleCommentsToggle.bind(Object(c.a)(o)),o.updateCommentsClose=o.updateCommentsClose.bind(Object(c.a)(o)),o.onLogoutClicked=w(Object(c.a)(o),M.LOGOUT_CLICKED),o.onCommentsClicked=w(Object(c.a)(o),M.COMMENT_TOGGLE),o.onChangeResolution=w(Object(c.a)(o),M.RESOLUTION_CHANGE),o.onShareClicked=w(Object(c.a)(o),M.SHARE_CLICKED),o.onChangeLanguage=w(Object(c.a)(o),M.CHANGE_LANGUAGE),o}return Object(s.a)(n,[{key:"attributeChangedCallback",value:function(e,t,n){if(!Object.values(S).includes(e))throw new Error("Untracked changed attribute: ".concat(e));n!==t&&this.render()}},{key:"updateCommentsClose",value:function(){this.setAttribute(S.commentsOpened,!1)}},{key:"connectedCallback",value:function(){var e=this;setTimeout((function(){return e.render()}),500)}},{key:"extractScreenSizeAttribute",value:function(){var e=this;return[S.sizeDesktop,S.sizeMobile,S.sizeTablet].reduce((function(t,n){var i=n.split("-")[1],s=(e.getAttribute(n)||T[i.toUpperCase()]).split("x").map((function(e){return e.trim()}));if(s.length){var c=Object(a.a)(s,2),l=c[0],u=c[1];return Object(r.a)(Object(r.a)({},t),{},Object(o.a)({},i,{width:l,height:u}))}return Object(r.a)(Object(r.a)({},t),{},Object(o.a)({},i,{width:"100%",height:"100%"}))}),{})}},{key:"extractResolutionAttribute",value:function(){var e=this.getAttribute(S.resolutionWidth),t=this.getAttribute(S.resolutionHeight);return e||t?Object(p.pickBy)({width:e,height:t},p.identity):null}},{key:"handleCommentsToggle",value:function(e){this.setAttribute("comments-opened",e),this.onCommentsClicked(e)}},{key:"render",value:function(){var e=this.getAttribute(S.locale)||"en",t="it"===e?g.messages:v.messages,n=this.extractScreenSizeAttribute(),o=this.extractResolutionAttribute(),a=Object(p.pickBy)({appBuilderDomain:this.getAttribute(S.appBuilderDomain),languages:JSON.parse(this.getAttribute(S.languages)),currentLang:this.getAttribute(S.currentLang),screenSizes:n,resolution:o,userName:this.getAttribute(S.userLogged),onClickLogout:this.onLogoutClicked,onCommentsToggle:this.handleCommentsToggle,onResolutionChange:this.onChangeResolution,onShareClicked:this.onShareClicked,onChangeLang:this.onChangeLanguage},p.identity);a.hasPermissionReview="true"===this.getAttribute(S.hasPermissionReview),a.commentsOpened="true"===this.getAttribute(S.commentsOpened),h.a.render(Object(N.jsx)(j.b,{locale:e,messages:t,children:Object(N.jsx)(P,Object(r.a)({},a))}),this)}},{key:"disconnectedCallback",value:function(){this.unsubscribeFromCommentCloseEvents&&this.unsubscribeFromCommentCloseEvents()}}],[{key:"observedAttributes",get:function(){return Object.values(S)}}]),n}(Object(m.a)(HTMLElement));customElements.get("preview-control-bar")||customElements.define("preview-control-bar",z);n(657);var R=["all","yours","resolved"],H=function(e){var t=e.intl,n=e.onCommentClose;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"PreviewCommentsBar__caption",children:[Object(N.jsx)(x.Icon,{size:"lg",name:"comments",className:"PreviewCommentsBar__caption-icon"}),Object(N.jsx)("h2",{children:Object(N.jsx)(j.a,{id:"preview.commentbar.caption"})}),Object(N.jsxs)("div",{className:"PreviewCommentsBar__select-type",children:[Object(N.jsx)("select",{className:"PreviewCommentsBar__select-type--dropdown",children:R.map((function(e){return Object(N.jsx)("option",{value:e,className:"PreviewCommentsBar__select-type--option",children:t.formatMessage({id:"preview.commentbar.commenttype.".concat(e)})})}))}),Object(N.jsx)("span",{className:"PreviewCommentsBar__select-type--icon caret"})]}),Object(N.jsx)(x.Button,{onClick:function(){return n()},className:"PreviewCommentsBar__close",children:Object(N.jsx)(x.Icon,{size:"lg",name:"close"})})]}),Object(N.jsx)("div",{className:"PreviewCommentsBar__area"})]})};H.defaultProps={onCommentClose:function(){},hasPermissionReview:!1};var D=Object(j.d)(H),I={locale:"locale",hasPermissionReview:"has-permission-review"},G={COMMENT_CLOSE:"preview-comments-bar/on-comment-close"};window.PreviewCommentsBarEvent=G;var U=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).onCommentClose=w(Object(c.a)(o),G.COMMENT_CLOSE),o}return Object(s.a)(n,[{key:"attributeChangedCallback",value:function(e,t,n){if(!Object.values(I).includes(e))throw new Error("Untracked changed attribute: ".concat(e));n!==t&&this.render()}},{key:"connectedCallback",value:function(){var e=this;setTimeout((function(){return e.render()}),500)}},{key:"render",value:function(){var e=this.getAttribute(I.locale)||"en",t="it"===e?g.messages:v.messages,n={hasPermissionReview:"true"===this.getAttribute(I.hasPermissionReview),onCommentClose:this.onCommentClose};h.a.render(Object(N.jsx)(j.b,{locale:e,messages:t,children:Object(N.jsx)(D,Object(r.a)({},n))}),this)}}],[{key:"observedAttributes",get:function(){return Object.values(I)}}]),n}(Object(m.a)(HTMLElement));customElements.get("preview-comments-bar")||customElements.define("preview-comments-bar",U)}},[[658,1,2]]]);
//# sourceMappingURL=main.2bb14483.chunk.js.map